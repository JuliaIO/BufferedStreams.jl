var documenterSearchIndex = {"docs":
[{"location":"outputstreams/","page":"Output Streams","title":"Output Streams","text":"CurrentModule = BufferedStreams\nDocTestSetup = quote\n    using BufferedStreams\nend","category":"page"},{"location":"outputstreams/#BufferedOutputStream","page":"Output Streams","title":"BufferedOutputStream","text":"","category":"section"},{"location":"outputstreams/","page":"Output Streams","title":"Output Streams","text":"stream = BufferedOutputStream(open(filename, \"w\")) # wrap an IOStream","category":"page"},{"location":"outputstreams/","page":"Output Streams","title":"Output Streams","text":"BufferedOutputStream is the converse to BufferedInputStream, wrapping a sink type. It also works on any writable IO type, as well the more specific sink interface:","category":"page"},{"location":"outputstreams/","page":"Output Streams","title":"Output Streams","text":"writebytes(sink::T, buffer::Vector{UInt8}, n::Int, eof::Bool)","category":"page"},{"location":"outputstreams/","page":"Output Streams","title":"Output Streams","text":"This function should consume the first n bytes of buffer. The eof argument is used to indicate that there will be no more input to consume. It should return the number of bytes written, which must be n or 0. A return value of 0 indicates data was processed but should not be evicted from the buffer.","category":"page"},{"location":"outputstreams/#BufferedOutputStream-as-an-alternative-to-IOBuffer","page":"Output Streams","title":"BufferedOutputStream as an alternative to IOBuffer","text":"","category":"section"},{"location":"outputstreams/","page":"Output Streams","title":"Output Streams","text":"BufferedOutputStream can be used as a simpler and often faster alternative to IOBuffer for incrementally building strings.","category":"page"},{"location":"outputstreams/","page":"Output Streams","title":"Output Streams","text":"out = BufferedOutputStream()\nprint(out, \"Hello\")\nprint(out, \" World\")\nstr = String(take!(out))","category":"page"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"CurrentModule = BufferedStreams\nDocTestSetup = quote\n    using BufferedStreams\nend","category":"page"},{"location":"inputstreams/#BufferedInputStream","page":"Input Streams","title":"BufferedInputStream","text":"","category":"section"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"BufferedInputStream(open(filename)) # wrap an IOStream\nBufferedInputStream(rand(UInt8, 100)) # wrap a byte array","category":"page"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"BufferedInputStream wraps a source. A source can be any IO object, but more specifically it can be any type T that implements a function:","category":"page"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"BufferedStreams.readbytes!(source::T, buffer::Vector{UInt8}, from::Int, to::Int)","category":"page"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"This function should write new data to buffer starting at position from and not exceeding position to and return the number of bytes written.","category":"page"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"BufferedInputStream is itself an IO type and implements the source type so you can use it like any other IO type.","category":"page"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"Calling close propagates to the underlying source object if applicable; once you wrap an IO object with a buffered stream, you can automatically close it by calling close on the buffered stream. Hence, if you are using a source that requires closing of an underlying system resource like file IO or socket, ensure you implement a close method in your source. This may be important for on-access locking file systems as in the MS Windows OS.","category":"page"},{"location":"inputstreams/#Anchors","page":"Input Streams","title":"Anchors","text":"","category":"section"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"Input streams also have some tricks to make parsing applications easier. When parsing data incrementally, one must take care that partial matches are preserved across buffer refills. One easy way to do this is to copy it to a temporary buffer, but this unecessary copying can slow things down.","category":"page"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"Input streams instead support the notion of \"anchoring\", which instructs the stream to save the current position in the buffer. If the buffer gets refilled, then any data in the buffer including or following that position gets shifted over to make room. When the match is finished, one can then call takeanchored! return an array of the bytes from the anchored position to the currened position, or upanchor! to return the index of the anchored position in the buffer.","category":"page"},{"location":"inputstreams/","page":"Input Streams","title":"Input Streams","text":"# print all numbers literals from a stream\nstream = BufferedInputStream(source)\nwhile !eof(stream)\n    b = peek(stream)\n    if '1' <= b <= '9'\n        if !isanchored(stream)\n            anchor!(stream)\n        end\n    elseif isanchored(stream)\n        println(ASCIIString(takeanchored!(stream)))\n    end\n    read(stream, UInt8)\nend","category":"page"},{"location":"#BufferedStreams","page":"Home","title":"BufferedStreams","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"(Image: ) (Image: ) (Image: Build Status) (Image: codecov) (Image: ) (Image: Project Status: Inactive) (Image: Chat on Discord)","category":"page"},{"location":"#Description","page":"Home","title":"Description","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"BufferedStreams provides buffering for IO operations. It can wrap any IO type automatically making incremental reading and writing faster.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using Pkg\nPkg.add(\"BufferedStreams\")","category":"page"}]
}
